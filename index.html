<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Oregon Fire Ops | Command Dashboard</title>

<style>
:root {
    --bg-dark:#080808;
    --panel-bg:#121212;
    --fire-red:#cc3333;
    --directory-yellow:#ffff00;
    --timestamp-cyan:#00f2ff;
    --mult-blue:#346094;
    --clack-green:#2e5a2e;
    --wash-purple:#6a0dad;
}

body{
    margin:0;
    background:var(--bg-dark);
    color:#e0e0e0;
    font-family:-apple-system,system-ui,sans-serif;
    height:100vh;
    display:flex;
    flex-direction:column;
}

header{
    background:#000;
    padding:12px 25px;
    border-bottom:3px solid var(--fire-red);
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-shrink:0;
}

.main-wrapper{
    display:grid;
    grid-template-columns:1fr 380px;
    gap:12px;
    padding:12px;
    flex-grow:1;
    overflow:hidden;
}

#debug-log{
    background:#000;
    color:#0f0;
    font-family:monospace;
    font-size:.75rem;
    padding:10px;
    border:1px solid #333;
    height:45px;
    overflow-y:auto;
}

.command-bar{
    background:#1a1a1a;
    padding:15px;
    border:1px solid #222;
    border-radius:6px;
    display:flex;
    gap:12px;
}

.dashboard-grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    overflow-y:auto;
}

/* === UNIT CARDS === */
.unit-card{
    position:relative;
    border:1px solid rgba(255,255,255,.2);
    border-top:5px solid var(--fire-red);
    border-radius:4px;
    min-height:200px;
    overflow:hidden;
}

.card-content{
    position:relative;
    z-index:5;
    padding:10px;
}

/* FULL COLOR LOGO */
.watermark-img{
    position:absolute;
    inset:0;
    margin:auto;
    width:80%;
    max-height:85%;
    opacity:.22;
    pointer-events:none;
    filter:saturate(1.4) brightness(1.1) contrast(1.1);
}

.unit-name{font-size:1.35rem;font-weight:900;}
.unit-location{color:var(--directory-yellow);font-weight:900;}

.status-btn{
    width:100%;
    padding:10px;
    margin-top:8px;
    background:#7a5d00;
    border:1px solid rgba(255,255,255,.3);
    border-radius:4px;
    font-weight:900;
    color:white;
}

/* === TIMESTAMPS === */
.ts-grid{
    display:flex;
    justify-content:space-between;
    border-top:1px solid #444;
    padding-top:6px;
    margin-top:8px;
}
.ts-box{text-align:center;flex:1;}
.ts-label{font-size:.6rem;color:var(--timestamp-cyan);}
.ts-val{font-family:monospace;font-size:1.1rem;font-weight:900;}

/* === DIRECTORY === */
.column{
    background:var(--panel-bg);
    border:1px solid #222;
    border-radius:6px;
    display:flex;
    flex-direction:column;
}

.scroll-area{padding:12px;overflow-y:auto;}

/* === BUTTONS WITH LOGOS === */
.unit-btn{
    position:relative;
    background:#222;
    border:1px solid #444;
    color:#fff;
    font-weight:900;
    padding:10px 4px;
    border-radius:4px;
    overflow:hidden;
}

.unit-btn span{
    position:relative;
    z-index:5;
}

.unit-btn img{
    position:absolute;
    inset:0;
    margin:auto;
    width:90%;
    opacity:.20;
    pointer-events:none;
    filter:saturate(1.3) brightness(1.05);
}

.accordion-header{
    background:#1a1a1a;
    padding:12px;
    font-weight:800;
    cursor:pointer;
}

.cat-label{
    font-size:.65rem;
    color:#aaa;
    margin:8px 0 4px;
}

.is-hidden{display:none;}
</style>
</head>

<body>

<header>
    <div style="font-weight:900">OREGON <span style="color:var(--fire-red)">COMMAND DASHBOARD</span></div>
    <div id="clock" style="font-family:monospace;font-size:1.4rem;"></div>
</header>

<div class="main-wrapper">
<div class="left-side">
<div id="debug-log">OPERATIONAL</div>
<div class="dashboard-grid" id="active-units"></div>
</div>

<div class="column">
<div class="scroll-area" id="accordion-container"></div>
</div>
</div>

<script>
const BASE="https://lh3.googleusercontent.com/u/0/d/";
const LOGOS={
"PORTLAND FIRE & RESCUE":BASE+"1L7x0AmisE2Nd6sco6p8jt5o0EZgidHjk",
"GRESHAM FIRE & RESCUE":BASE+"1CBhRQLYVDQffXOWTGdzOQuYxjoAedvgV",
"CLACKAMAS FIRE DISTRICT #1":BASE+"1hN8Lpz60WWi6vpmXKJmH5IMUUZ7KlCow"
};

const units=[
{name:"E11",station:"ST 11",agency:"PORTLAND FIRE & RESCUE"},
{name:"E52",station:"ST 52",agency:"GRESHAM FIRE & RESCUE"},
{name:"T1",station:"ST 1",agency:"CLACKAMAS FIRE DISTRICT #1"}
];

function render(){
const c=document.getElementById("accordion-container");
const dash=document.getElementById("active-units");

units.forEach(u=>{
const b=document.createElement("button");
b.className="unit-btn";
b.innerHTML=`${LOGOS[u.agency]?`<img src="${LOGOS[u.agency]}">`:``}<span>${u.name}</span>`;
b.onclick=()=>addCard(u);
c.appendChild(b);
});
}

function addCard(u){
const d=document.getElementById("active-units");
const logo=LOGOS[u.agency]||"";
const t=new Date().toLocaleTimeString([], {hour:"2-digit",minute:"2-digit"});
d.innerHTML=`
<div class="unit-card">
${logo?`<img src="${logo}" class="watermark-img">`:``}
<div class="card-content">
<div class="unit-name">${u.name}</div>
<div class="unit-location">${u.station}</div>
<button class="status-btn">DISPATCHED</button>
<div class="ts-grid">
<div class="ts-box"><span class="ts-label">DISP</span><span class="ts-val">${t}</span></div>
</div>
</div>
</div>`+d.innerHTML;
}

render();
setInterval(()=>clock.innerText=new Date().toLocaleTimeString(),1000);
</script>

</body>
</html>
